function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function setCookie(e,t){var n=new Date;n.setTime(n.getTime()+3e5),document.cookie=e+"="+t+"; expires="+n.toGMTString()}const sI=document.getElementById("productsearch"),lE=document.querySelectorAll(".inventory-element");sI.addEventListener("input",()=>{let e=sI.value.toLowerCase();showSidenavOptions();let t=!!e.length;t&&lE.forEach(t=>{let n=t.textContent.trim().toLowerCase(),a=n.includes(e);a||(t.style.display="none")})});const showSidenavOptions=()=>{lE.forEach(e=>{e.style.display="flex"})};var username,cart,loadCart=function(){var e=JSON.parse(localStorage.getItem("cart"));null==e&&(e={}),username in e||(e[username]=[],localStorage.setItem("cart",JSON.stringify(e))),document.getElementById("cart-button").getElementsByTagName("span")[0].innerText=e[username].length;for(var t=0;t<e[username].length;t++)element=document.getElementById(e[username][t]),$("#cart-list").append('<li class="cart-element list-group-item justify-content-between align-items-center" id="cart-'+element.id+'">'+element.getElementsByTagName("h1")[0].innerText+'<button class="btn"><i class="text-primary fa-regular fa-trash-can"></i></button></li>'),document.getElementById("cart-"+element.id).getElementsByTagName("button")[0].addEventListener("click",removeFromCart,!1);return e},addToCart=function(){element=this.parentElement.parentElement,!cart[username].includes(element.id)&&(cart[username].push(element.id),localStorage.setItem("cart",JSON.stringify(cart)),document.getElementById("cart-button").getElementsByTagName("span")[0].innerText=cart[username].length,$("#cart-list").append('<li class="cart-element list-group-item justify-content-between align-items-center" id="cart-'+element.id+'">'+element.getElementsByTagName("h1")[0].innerText+'<button class="btn"><i class="text-primary fa-regular fa-trash-can"></i></button></li>'),console.log(document.getElementById("cart-"+element.id).getElementsByTagName("button")[0]),document.getElementById("cart-"+element.id).getElementsByTagName("button")[0].addEventListener("click",removeFromCart,!1))},removeFromCart=function(){if(element=this.parentElement,!cart[username].includes(element.id.substring(5)))return;let e=cart[username].indexOf(element.id.substring(5));e>-1&&cart[username].splice(e,1),element.remove(),localStorage.setItem("cart",JSON.stringify(cart)),document.getElementById("cart-button").getElementsByTagName("span")[0].innerText=cart[username].length};document.getElementById("logInButton").addEventListener("click",()=>{setCookie("username",document.getElementById("logInName").value),username=readCookie("username"),cart=loadCart()}),$(window).on("load",function(){null==readCookie("username")?$("#logInModal").modal("show"):(username=readCookie("username"),cart=loadCart())});for(var products=document.getElementsByClassName("product"),i=0;i<products.length;i++)products[i].getElementsByClassName("add-product")[0].addEventListener("click",addToCart,!1);